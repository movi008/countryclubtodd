
var gmarkers=[];var map_open=0;var first_time=1;var pins="";var markers="";var infoBox=null;var map;var selected_id="";function wpresidence_initialize_map_contact_leaflet(){var e=L.latLng(googlecode_contact_vars.hq_latitude,googlecode_contact_vars.hq_longitude);map=L.map("googleMap",{center:e,zoom:parseInt(googlecode_contact_vars.page_custom_zoom,10),});var f=wpresidence_open_stret_tile_details();map.addLayer(f);map.scrollWheelZoom.disable();if(Modernizr.mq("only all and (max-width: 768px)")){map.dragging.disable()}jQuery("#gmap-loading").remove();map.on("popupopen",function(i){var h=map.project(i.popup._latlng);if(mapfunctions_vars.useprice==="yes"){h.y-=115}else{h.y-=120/2}map.panTo(map.unproject(h),{animate:true})});var d=L.latLng(googlecode_contact_vars.hq_latitude,googlecode_contact_vars.hq_longitude);var c={iconUrl:images.single_pin,iconSize:[44,50],iconAnchor:[20,50],popupAnchor:[1,-50]};var b={riseOnHover:true};var a='<div class="info_details contact_info_details leaflet_contact"><h2 id="contactinfobox">'+googlecode_contact_vars.title+'</h2><div class="contactaddr">'+googlecode_contact_vars.address+"</div></div>";b.icon=L.icon(c);var g=L.marker(d,b);g.bindPopup(a);g.addTo(map);g.fire("click");if(Modernizr.mq("only all and (max-width: 768px)")){map.on("dblclick ",function(h){if(map.dragging.enabled()){map.dragging.disable()}else{map.dragging.enable()}})}}function wpresidence_initialize_map_contact(){if(!document.getElementById("googleMap")){return}var a={zoom:parseInt(googlecode_contact_vars.page_custom_zoom),scrollwheel:false,center:new google.maps.LatLng(googlecode_contact_vars.hq_latitude,googlecode_contact_vars.hq_longitude),mapTypeId:googlecode_contact_vars.type.toLowerCase(),streetViewControl:false,disableDefaultUI:true,gestureHandling:"cooperative"};map=new google.maps.Map(document.getElementById("googleMap"),a);google.maps.event.addListener(map,"tilesloaded",function(){jQuery("#gmap-loading").remove()});if(mapfunctions_vars.map_style!==""){var b=JSON.parse(mapfunctions_vars.map_style);map.setOptions({styles:b})}pins=googlecode_contact_vars.markers;markers=jQuery.parseJSON(pins);wpestate_setMarkers_contact(map,markers);google.maps.event.trigger(gmarkers[0],"click")}function wpestate_custompincontact(a){a={url:images.single_pin,size:new google.maps.Size(59,59),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,59)};return a}function wpestate_setMarkers_contact(g,c){var d={coord:[1,1,1,38,38,59,59,1],type:"poly"};var h;var e=document.createElement("div");var b={content:e,disableAutoPan:true,maxWidth:500,pixelOffset:new google.maps.Size(-90,-210),zIndex:null,closeBoxMargin:"-13px 0px 0px 0px",closeBoxURL:"",draggable:true,infoBoxClearance:new google.maps.Size(1,1),isHidden:false,pane:"floatPane",enableEventPropagation:false};infoBox=new InfoBox(b);var f=new google.maps.LatLng(googlecode_contact_vars.hq_latitude,googlecode_contact_vars.hq_longitude);var a=new google.maps.Marker({position:f,map:g,icon:wpestate_custompincontact(c[8]),shape:d,title:decodeURIComponent(c[0].replace(/\+/g," ")),zIndex:1,image:c[4],price:c[5],type:c[6],type2:c[7],infoWindowIndex:0});gmarkers.push(a);google.maps.event.addListener(a,"click",function(){first_time=0;h=this.title;infoBox.setContent('<div class="info_details contact_info_details"><span id="infocloser" onClick=\'javascript:infoBox.close();\' ></span><h2 id="contactinfobox">'+h+'</h2><div class="contactaddr">'+googlecode_contact_vars.address+"</div></div>");infoBox.open(g,this);g.setCenter(this.position);g.panBy(0,-120);wpestate_close_adv_search()})}if(typeof google==="object"&&typeof google.maps==="object"){google.maps.event.addDomListener(window,"load",wpresidence_initialize_map_contact)}else{wpresidence_initialize_map_contact_leaflet()};